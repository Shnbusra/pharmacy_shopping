!function(t){"use strict";var e=0,n=0,s=!0,i={};t(document).ready(function(){return i.menu.init(),i.plugin.init(),i.module.init(),!1}),t(window).bind("load",function(){return i.menu.autoCorrectSubMenu(),i.plugin.isotope.init(),i.plugin.parallax(),i.module.countDown(),i.plugin.map(),!1}),t(window).on("resize",function(){return i.menu.autoCorrectSubMenu(),i.plugin.mapResize(),!1}),t(window).on("scroll",function(){return t(".js__menu_sticky").length&&i.menu.sticky(t(".js__menu_sticky"),t(".header").outerHeight(),t(this).scrollTop()),!1}),i.menu={pageX:0,pageY:0,init:function(){return i.menu.button(),t(".js__menu_close").on("click",function(){return i.menu.mobile.close(),!1}),i.menu.touch(),i.menu.mobile.toggleSubMenu(),!1},autoCorrectSubMenu:function(){return t(".js__auto_correct_sub_menu").length&&1.2*t(window).height()<t("#wrapper").height()&&t(".js__auto_correct_sub_menu .menu > .simple-menu > .sub-menu").each(function(){var e=t(this).offset().left,n=t(window).width(),s=i.func.childReturnWidth(t(this),t(this).outerWidth());e+s>n?n-e>e?t(this).addClass("js__sub_menu_right"):t(this).addClass("js__sub_menu_left"):t(this).addClass("js__sub_menu_right")}),!1},button:function(){return t(".js__menu_toggle").on("click",function(){return t(".js__menu_mobile").hasClass("js__menu_active")?i.menu.mobile.close():i.menu.mobile.open(),!1}),!1},sticky:function(t,e,i){return i>e+50?i>n?t.removeClass("js__active"):t.addClass("js__active"):s===!0&&t.removeClass("js__active"),n=i,!1},touch:function(){return t(document).on("touchstart",function(t){var e=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];i.menu.pageX=e.pageX,i.menu.pageY=e.pageY}),t(document).on("touchend",function(t){var e=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];i.menu.pageX+100<e.pageX&&i.menu.mobile.close(),i.menu.pageX=0,i.menu.pageY=0}),!1},mobile:{close:function(){return t(".js__menu_mobile").removeClass("js__menu_active"),t("html").removeClass("js__menu_active"),t("#wrapper").css({top:0}),window.scrollTo(0,e),s=!0,!1},open:function(){return s=!1,e=window.scrollY,t(".js__menu_mobile").addClass("js__menu_active"),t("html").addClass("js__menu_active"),t("#wrapper").css({top:-e}),!1},toggleSubMenu:function(){return t(".js__menu_drop").on("click",function(){return t(this).toggleClass("js__active"),t(this).next().stop().slideToggle(400),!1}),!1}}},i.module={mcTimer:-1,DisplayFormat:"<div class='timer-day box'><span class='day timer-number'>%%D%%</span><span class='date-title'>Days</span></div><div class='timer-hour box'><span class='timer-number hour'>%%H%%</span><span class='date-title'>Hours</span></div><div class='timer-min box'><span class='min timer-number'>%%M%%</span><span class='date-title'>Mins</span></div><div class='timer-sec box'><span class='sec timer-number'>%%S%%</span><span class='date-title'>Secs</span></div>",CountStepper:-1,SetTimeOutPeriod:0,init:function(){return i.module.SetTimeOutPeriod=1e3*(Math.abs(i.module.CountStepper)-1)+990,i.module.dropDown("js__mobile_drop_down",!0),i.module.dropDown("js__drop_down",!1),i.module.css(t(".js__background_image"),"background-image"),i.module.css(t(".js__background_position"),"background-position"),i.module.css(t(".js__background_repeat"),"background-repeat"),i.module.css(t(".js__background_color"),"background-color"),i.module.css(t(".js__opacity"),"opacity"),i.module.css(t(".js__width"),"width"),i.module.tab(".js__tab","li"),i.module.popup.init(),i.module.gallery(),i.module.number(),i.module.toggleSlide(),!1},countDown:function(){return t(".js__count_down_box").length&&t(".js__count_down_box").each(function(){var e=new Date(t(this).attr("data-date-then")),n=Date.parse(t(this).attr("data-date-now")),s=new Date(n),a=new Date(e-s),o=Math.floor(a.valueOf()/1e3);t(this).attr("id");i.func.CountBack(o,t(this),i.module.mcTimer),i.module.mcTimer++}),!1},css:function(e,n,s){return s||(s=n),e.each(function(){var e=t(this).data(s);if(e){var i={};i[n]=e,t(this).css(i)}}),!1},dropDown:function(e,n){var s=t("."+e);return s.each(function(){var e=t(this);e.on("click",".js__drop_down_button",function(i){return i.preventDefault(),(t(window).width()<1025||0==n)&&(e.hasClass("js__active")?e.removeClass("js__active"):(s.removeClass("js__active"),e.addClass("js__active"))),!1})}),t("#wrapper").on("click",function(n){var s=t(n.target);s.hasClass(e)||s.parents("."+e).length||t("."+e+".js__active").removeClass("js__active")}),!1},gallery:function(){t(".js__gallery").each(function(){var e=t(this);e.on("click",".js__thumb",function(n){if(n.preventDefault(),!t(this).hasClass("js__active")){var s=e.find(".js__zoom_popup");s.children("img").prop("src",t(this).data("images")),s.data("zoom",t(this).data("zoom")),e.find(".js__thumb").removeClass("js__active"),t(this).addClass("js__active")}return!1})})},number:function(){return t(".js__number").each(function(){var e=t(this);e.on("click",".js__plus",function(){var t=parseInt(e.find(".js__target").val(),10);return e.find(".js__target").val(t+1),!1}),e.on("click",".js__minus",function(){var t=parseInt(e.find(".js__target").val(),10);return t>0&&e.find(".js__target").val(t-1),!1})}),!1},popup:{init:function(){return t(".js__popup_open").on("click",function(e){return e.preventDefault(),i.module.popup.open(t(t(this).data("target"))),!1}),t(".js__popup_close").on("click",function(e){return e.preventDefault(),i.module.popup.close(t(t(this).parents(".js__popup"))),!1}),t(".js__zoom_popup").on("click",function(e){e.preventDefault();var n=t(this).data("zoom"),s=t(t(this).data("target"));return s.find(".js__popup_images").html('<img src="'+n+'" alt="" />'),i.module.popup.open(s),!1}),!1},open:function(e){return e.addClass("js__active"),t("html").addClass("js__popup_opening"),!1},close:function(e){return e.removeClass("js__active"),t(".js__popup.js__active").length||t("html").removeClass("js__popup_opening"),!1}},tab:function(e,n){return t(".js__tab").each(function(){var e=t(this);e.on("click",".js__tab_control",function(s){var i=t(this).data("target");if(s.preventDefault(),e.find(".js__tab_content").removeClass("js__active"),e.find(".js__tab_control").removeClass("js__active"),t(this).addClass("js__active"),i)t(i).addClass("js__active");else{var a;a=n?t(this).parents(n).first().index():t(this).index(),e.find(".js__tab_content").eq(a).addClass("js__active")}return!1})}),!1},toggleSlide:function(){return t(".js__toggle_slide").each(function(){var e=t(this);e.on("click",".js__toggle_slide_control",function(){return t(this).hasClass("js__active")||(e.find(".js__toggle_slide_content.js__active").slideUp(400),t(t(this).data("target")).slideDown(400),t(t(this).data("target")).addClass("js__active"),e.find(".js__toggle_slide_control.js__active").removeClass("js__active"),t(this).addClass("js__active")),!1})}),!1}},i.func={childReturnWidth:function(e,n){if(e.children("li").children(".sub-menu").length){var s=0;return e.children("li").children(".sub-menu").each(function(){var e=i.func.childReturnWidth(t(this),n+t(this).outerWidth());e>s&&(s=e)}),s}return n},CountBack:function(t,e,n){var s;return 0>t?void(document.getElementById(e).innerHTML=""):(s=i.module.DisplayFormat.replace(/%%D%%/g,i.func.calcage(t,86400,1e5)),s=s.replace(/%%H%%/g,i.func.calcage(t,3600,24)),s=s.replace(/%%M%%/g,i.func.calcage(t,60,60)),s=s.replace(/%%S%%/g,i.func.calcage(t,1,60)),e.html(s),void setTimeout(function(){i.func.CountBack(t+i.module.CountStepper,e,n)},i.module.SetTimeOutPeriod))},calcage:function(t,e,n){var s=(Math.floor(t/e)%n).toString();return s.length<2&&(s="0"+s),"<b>"+s+"</b>"},getResponsiveSettings:function(e){var n=e.data("responsive"),s=[];if(n){for(;n.indexOf("'")>-1;)n=n.replace("'",'"');var i=JSON.parse(n);t.each(i,function(t,e){s[s.length]={breakpoint:t,settings:{slidesToShow:e,slidesToScroll:e}}})}return s}},i.plugin={init:function(){return i.plugin.select2(),i.plugin.noUiSlider(),i.plugin.isotope.filter(),i.plugin.slick.init(),!1},select2:function(){return t(".js__select2").each(function(){var e=t(this).data("min-results"),n=t(this).data("container-class");e?("Infinity"==e?t(this).select2({minimumResultsForSearch:1/0}):t(this).select2({minimumResultsForSearch:parseInt(e,10)}),n&&t(this).on("select2:open",function(){return t(".select2-container--open").addClass(n),!1})):t(this).select2()}),!1},isotope:{init:function(){return setTimeout(function(){t(".js__filter_isotope").each(function(){var e=t(this);e.find(".js__isotope_items").isotope({itemSelector:".js__isotope_item",layoutMode:"cellsByRow"})})},100),setTimeout(function(){t(".js__isotope_layout").each(function(){var e=t(this);e.isotope({itemSelector:".js__isotope_item",layoutMode:"packery"})})},100),!1},filter:function(){return t(".js__filter_isotope").each(function(){var e=t(this);e.on("click",".js__filter_control",function(n){return n.preventDefault(),t(this).hasClass(".js__active")||(e.find(".js__filter_control").removeClass("js__active"),t(this).addClass("js__active"),e.find(".js__isotope_items").isotope({filter:t(this).data("filter")})),!1})}),!1}},map:function(){return t(".js__map").length&&t(".js__map").each(function(){var e=t(this).attr("id"),n=parseFloat(t(this).data("lat")),s=parseFloat(t(this).data("lng"));if(t(this).hasClass("js__map_absolute")){var i=t(this).parents(".js__map_wrap").find(".js__map_target").offset().left;t(this).css({width:i})}var a=new google.maps.LatLng(n,s),o=new google.maps.Map(document.getElementById(e),{zoom:15,center:a}),r="assets/images/icon-map.png";new google.maps.Marker({position:a,map:o,icon:r})}),!1},mapResize:function(){return t(".js__map_absolute").each(function(){var e=t(this).parents(".js__map_wrap").find(".js__map_target").offset().left;t(this).css({width:e})}),!1},noUiSlider:function(){t(".js__slider_price").length&&t(".js__slider_price").each(function(){var e=t(this).get(0),n=t(this).data("output"),s=parseInt(t(this).data("max"),10),i=parseInt(t(this).data("start"),10),a=parseInt(t(this).data("end"),10),o=parseInt(t(this).data("min"),10);if(noUiSlider.create(e,{start:[i,a],margin:30,step:1,connect:!0,range:{min:o,max:s}}),"yes"===n){var r=t(this).parents(".js__slider_price_wrap");e.noUiSlider.on("update",function(t,e){var n=r.find(".js__slider_price").data("currency");return r.find(".js__text_min").length||r.find(".noUi-handle-lower").append('<span class="js__text_min"></span>'),r.find(".js__text_max").length||r.find(".noUi-handle-upper").append('<span class="js__text_max"></span>'),e?(r.find(".js__text_max").text(n+parseInt(t[e],10)),r.find(".js__input_max").val(parseInt(t[e],10))):(r.find(".js__text_min").text(n+parseInt(t[e],10)),r.find(".js__input_min").val(parseInt(t[e],10))),!1})}})},parallax:function(){return t(".js__parallax").each(function(){t(this).bind("inview",function(e,n){return n?t(this).parallax():t(this).css("background-position",""),!1})}),!1},slick:{init:function(){t(".js__slickslider").each(function(){var e=1==t(this).data("arrows")?!0:!1,n=1==t(this).data("dots")?!0:!1;t(this).slick({arrows:e,dots:n,slidesToShow:parseInt(t(this).data("show"),10),slidesToScroll:parseInt(t(this).data("show"),10),responsive:i.func.getResponsiveSettings(t(this))})}),i.plugin.slick.testimonials()},testimonials:function(){return t(".js__testimonials_slickslider").each(function(){var e=t(this).find(".js__main_slickslider"),n=t(this).find(".js__thumb_slickslider");e.slick({arrows:!1,dots:!0,asNavFor:".js__thumb_slickslider"}),n.slick({arrows:!0,dots:!1,vertical:!0,verticalSwiping:!0,asNavFor:".js__main_slickslider",slidesToShow:3,slidesToScroll:1}),n.on("click",".js__thumb",function(s){var i=t(this).data("index");return s.preventDefault(),e.slick("slickGoTo",i),n.slick("slickGoTo",i),!1})}),!1}}}}(jQuery);
